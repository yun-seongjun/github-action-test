#!/usr/bin/env sh
# í˜„ì¬ ë¸Œë Œì¹˜ì˜ ë„¤ì„ì„ branchì— ì €ì¥
branch="$(git rev-parse --abbrev-ref HEAD)"

# CI í™˜ê²½ì—ì„œ í›… ìŠ¤í‚µ
if [ "$CI" = "true" ]; then
  echo "ğŸ”„ [Husky] pre-push skipped in CI environment"
  exit 0
fi

# branchê°€ main ì´ë¼ë©´ ë¬¸êµ¬ë¥¼ ë…¸ì¶œ ì‹œí‚¤ë©° ì¢…ë£Œ
if [ "$branch" = "main" ]; then
  echo "You can't push directly to main branch"
  exit 1
fi

# branchê°€ dev ì´ë¼ë©´ ë¬¸êµ¬ë¥¼ ë…¸ì¶œ ì‹œí‚¤ë©° ì¢…ë£Œ
if [ "$branch" = "dev" ]; then
  echo "You can't push directly to dev branch"
  exit 1
fi

if [ "$branch" = "staging" ]; then
  echo "You can't push directly to staging branch"
  exit 1
fi

# husky ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‰½ê²Œ ì œê³µí•´ì£¼ëŠ”  _/husky.sh ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.
. "$(dirname -- "$0")/_/husky.sh"
